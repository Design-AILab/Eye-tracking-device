{% extends "base.html" %} {% block content %}
<div class="container">
    <button type="button" class="btn btn-primary" id="startTracking">Begin</button>
    <button type="button" class="btn btn-warning" id="endTracking">Stop</button>
    <script src="{{url_for('static', filename='js/webgazer.js') }}" type="text/javascript"></script>
</div>

<script type="text/javascript">
    $(function() {
        // start webgazer when start button is clicked
        $('#startTracking').on('click', function () {
            //start the webgazer tracker
            webgazer.setRegression('ridge') /* currently must set regression and tracker */
            //.setTracker('clmtrackr')
            .setGazeListener(function(data, clock) {
                console.log(data[0], data[1]); /* data is an object containing an x and y key which are the x and y prediction coordinates (no bounds limiting) */
                //  console.log(clock); /* elapsed time in milliseconds since webgazer.begin() was called */
            })
            .begin()
            .showPredictionPoints(true); /* shows a square every 100 milliseconds where current prediction is */
        })
        
        // stop webgazer after
        $('#endTracking').on('click', function()  {
            webgazer.end();
        })
     });
</script>
{% endblock content %}